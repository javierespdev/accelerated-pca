[tasks.build]
description = "Compile all CUDA PCA files into shared library"
run = "nvcc -Xcompiler -fPIC -shared -o src/accelerated_pca/cuda/libpca_cuda.so src/accelerated_pca/cuda/pca_cuda.cu -lcublas -lcusolver -arch=sm_89"
sources = ["src/accelerated_pca/cuda/*.cu"]
outputs = ["src/accelerated_pca/cuda/libpca_cuda.so"]

[tasks.test]
description = "Run all unit tests using pytest to verify implementations."
run = "pytest tests/"
